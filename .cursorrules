# ==========================
# COMMANDES
# ==========================

commands:
  run: "venv\\Scripts\\python.exe main.py"
  install: "venv\\Scripts\\pip.exe install"
  update: "venv\\Scripts\\pip.exe install --upgrade"
  list: "venv\\Scripts\\pip.exe list"

# ==========================
# VÉRIFICATION ENVIRONNEMENT
# ==========================

check:
  - "venv\\Scripts\\python.exe --version"
  - "venv\\Scripts\\pip.exe list"
  - "venv\\Scripts\\python.exe -c \"import sys; print(sys.executable)\""

# ==========================
# STARTUP SERVICES
# ==========================

startup:
  script: "start.ps1"
  backend: |
    cd backend
    venv\\Scripts\\python.exe main.py
  frontend: |
    taskkill /F /IM node.exe /T
    cd frontend
    npm run dev

# ==========================
# NAVIGATION FICHIERS
# ==========================

# Navigation système de fichiers via /api/files/list/{directory}

# ==========================
# GESTION TERMINAL
# ==========================

# Commandes longues: is_background: true
# Timeouts: pip (5min), npm (10min), python (10s)
# Vérifier ports 8000/3000 après démarrage

# ==========================
# RÈGLES DE DÉVELOPPEMENT
# ==========================

# PRIORITÉ: Vérifier l'existant avant de créer
# 1. Chercher dans *.backup, codemort/, grep_search
# 2. Restaurer/Adapter plutôt que créer
# 3. Éviter la duplication de code
